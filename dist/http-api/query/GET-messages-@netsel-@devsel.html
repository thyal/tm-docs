<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>
            GET /messages/:netsel[/:devsel] - Documentation - Tiny
            Mesh AS
        </title>
        <link href="../../css/normalize.css" rel="stylesheet">
        <link href="../../css/skeleton.css" rel="stylesheet">
        <link href="../../css/style.css" rel="stylesheet">
        <link href="../../css/print.css" rel="stylesheet" media=
        "print">
        <meta name="viewport" content=
        "width=device-width, initial-scale=1">
    </head>
    <body>
        <div class="">
            <div class="main">
                <div style="padding:15px 30px;">
                    <div class="endpoint">
                        <ul class="breadcrumb">
                            <li>
                                <a href="../../index.html">Tinymesh
                                Cloud Docs</a>
                            </li>
                            <li>
                                <a href="../index.html">HTTP API -
                                v2</a>
                            </li>
                            <li>
                                <a href="index.html">Data Queries
                                &amp; Message streaming</a>
                            </li>
                            <li>
                                <a href=
                                "GET-messages-@netsel-@devsel.html">
                                GET /messages/:netsel[/:devsel]</a>
                            </li>
                        </ul>
                        <h3>
                            GET /messages/:netsel[/:devsel]
                        </h3>
                        <h6>
                            https://http.cloud.tiny-mesh.com/v2/messages/:netsel[/:devsel]
                        </h6>
                        <div class="returns"></div>
                        <div class="params">
                            <h4>
                                URL Parameters
                            </h4>
                            <ul class="parameters">
                                <li class="parameter">
                                    <code>:netsel</code> – The key
                                    of the <a href=
                                    "../../reference-guide/resources/network.html">
                                    network</a> resource
                                </li>
                                <li class="parameter">
                                    <code>:devsel</code> – The key
                                    of the <a href=
                                    "../../reference-guide/resources/device.html">
                                    device</a> resource
                                </li>
                            </ul>
                        </div>
                        <div class="qparams">
                            <h4>
                                Query Parameters
                            </h4>
                            <ul class="query-parameters">
                                <li class="query-parameter">
                                    <code>data.encoding</code> –
                                    Specifies the encoding of
                                    binary data fields (like
                                    proto/tm.data for serial data
                                    events). The value can be
                                    either <code>base64</code>,
                                    <code>hex</code> or
                                    <code>binary</code>. Data
                                    encoding may also be set by the
                                    <code>X-Data-Encoding</code>
                                    header, if both header and
                                    query parameter option is used
                                    the header will have higher
                                    priority.
                                </li>
                                <li class="query-parameter">
                                    <code>date.from</code> – The
                                    <a href=
                                    "#date-format">datetime</a> to
                                    start query timerange from.
                                    <em>Default: NOW//-1HOUR</em>
                                </li>
                                <li class="query-parameter">
                                    <code>date.to</code> – The
                                    <a href=
                                    "#date-format">datetime</a> to
                                    end the query timerange
                                </li>
                                <li class="query-parameter">
                                    <code>filter.pick</code> – A
                                    comma separated list of fields
                                    to include in results. Nested
                                    paths can be selected by using
                                    dot notation:
                                    <code>proto/tm.rssi</code>
                                </li>
                                <li class="query-parameter">
                                    <code>filter.omit</code> – A
                                    comma separated list of fields
                                    to exclude from results. Nested
                                    paths can be selected by using
                                    dot notation:
                                    <code>proto/tm.rssi</code>
                                </li>
                                <li class="query-parameter">
                                    <code>query</code> – A string
                                    <a href="#query">query</a> to
                                    filter results by
                                </li>
                                <li class="query-parameter">
                                    <code>sort.by</code> – A path
                                    to use for sorting the
                                    resultset. Nested paths can be
                                    selected by using dot notation:
                                    <code>proto/tm.rssi</code>.<em><b>Note:</b>
                                    This field has no effect when
                                    using <code>stream</code> or
                                    <code>continuous</code>.</em>
                                </li>
                                <li class="query-parameter">
                                    <code>sort.order</code> –
                                    Either <code>ascending</code>
                                    or <code>descending</code>.
                                    <em>Default:
                                    descending</em><em><b>Note:</b>
                                    This field has no effect when
                                    using <code>stream</code> or
                                    <code>continuous</code>.</em>
                                </li>
                                <li class="query-parameter">
                                    <code>limit</code> – Limits the
                                    amount of items in the
                                    resultset. If
                                    <code>continuous</code> is used
                                    the query will terminate once
                                    the limit is reached
                                </li>
                                <li class="query-parameter">
                                    <code>offset</code> – Skips
                                    <code>n</code> first elements
                                    of resultset.
                                </li>
                                <li class="query-parameter">
                                    <code>continuous</code> –
                                    Subscribes to the resource in
                                    question and deliver data as it
                                    arrives in the service. When
                                    used in conjunction with
                                    <code>date.to</code> or
                                    <code>limit</code> the query
                                    will terminate when either
                                    precondition is met.
                                </li>
                                <li class="query-parameter">
                                    <code>stream</code> – Sets the
                                    HTTP response transfer encoding
                                    to <code>Chunked</code> and
                                    return each item in the result
                                    set as a distinct chunk.
                                </li>
                                <li class="query-parameter">
                                    <code>map</code> – A comma
                                    separated list of <a href=
                                    "#processing-steps">processing
                                    steps</a> to apply to the
                                    result stream.<em>(Default:
                                    <code>unpack,filter,sort,slice</code>)</em>
                                </li>
                            </ul>
                        </div>
                        <div class="req-headers">
                            <h4>
                                Request Headers
                            </h4>
                            <ul class="request-headers">
                                <li class="request-header">
                                    <code>X-Data-Encoding</code> –
                                    Specifies the encoding of
                                    binary data fields, can be
                                    either <code>base64</code>,
                                    <code>hex</code> or
                                    <code>binary</code>. Data
                                    encoding may also be set by the
                                    <code>data.encoding</code>
                                    query parameter. If both header
                                    and query parameter option is
                                    used the header will have
                                    higher priority.
                                </li>
                            </ul>
                        </div>
                        <h4>
                            Description
                        </h4><span>Specifies the encoding of binary
                        data fields, can be either
                        <code>base64</code>, <code>hex</code> or
                        <code>binary</code>. Data encoding may also
                        be set by the <code>data.encoding</code>
                        query parameter. If both header and query
                        parameter option is used the header will
                        have higher priority.</span>
                        <hr>
                        <h3 id="date-format">
                            Date Format
                        </h3>
                        <p>
                            The date formate is a variation of ISO
                            8601 dates. They can be represented in
                            their full form like
                            <code>2017-01-18T19:09:03.641951Z</code>
                            or by picking only the <code>n</code>
                            first segments like
                            <code>2017-01-18</code> and the rest of
                            the date will be infered.<br>
                            Alternatively the value
                            <code>NOW</code> may be used to
                            represent the current server time.
                        </p>
                        <h4>
                            Manipulating the datetime
                        </h4>
                        <p>
                            A datefield may be manipulated by
                            adding or subtracting time units from
                            the base datetime. For instance
                            <code>NOW//-1WEEK</code> will pick the
                            datetime exactly 1 week back in time,
                            multiple constructs can be chained as
                            you liked
                            <code>NOW//-1MONTH//+1HOUR</code>.<br>
                        </p>
                        <p>
                            The supported <code>UNITS</code> for
                            the dateparser are as following:
                            <code>YEAR</code>,<code>MONTH</code>,
                            <code>WEEK</code>, <code>HOUR</code>,
                            <code>MINUTE</code> or
                            <code>SECOND</code>.
                        </p>
                        <p>
                            Due to the complexity of dates and
                            their localized versions it's generally
                            considered good practice to give exact
                            UTC datetimes in your queries, if you
                            need complex time ranges like
                            &nbsp;<em>last sunday in last year</em>
                            you should generated these dates on the
                            client side.
                        </p>
                        <h3 id="query">
                            Query Format
                        </h3>
                        <p>
                            Simple rules to filter the resultset.
                            Queries takes the form <code>expr :=
                            &lt;k || val&gt; &lt;op&gt; &lt;k ||
                            val&gt;</code>, for example:
                            <code>proto/tm.rssi &gt; 100</code>.
                        </p>
                        <p>
                            <code>k</code> may be any nested path
                            in dot notation, <code>op</code> may be
                            one of the following equality
                            operators: <code>==</code>,
                            <code>!=</code>, <code>&lt;</code>,
                            <code>&gt;=</code> or
                            <code>&gt;=</code>.<br>
                            <code>val</code> must be a scaler value
                            <code>string := "abc" or 'def'</code>,
                            <code>integer := 78491</code> or
                            <code>float := 3.14</code>.<br>
                        </p>
                        <p>
                            Some basic arithematic can be performed
                            on <code>k</code> and <code>val</code>,
                            like matching on rssi in dBm: <code>-50
                            &lt; proto/tm.rssi * -0.5</code>
                        </p>
                        <h3 id="processing-steps">
                            Processing steps
                        </h3>
                        <p>
                            Processing steps enable certain parts
                            of the return chain. The available
                            processing steps are as following:
                        </p>
                        <ul>
                            <li>
                                <code>unpack</code> — unpacks the
                                raw packet data
                            </li>
                            <li>
                                <code>filter</code> — apply
                                <code>query</code> rules,
                                <code>filter.pick</code> and
                                <code>filter.omit</code>
                            </li>
                            <li>
                                <code>sort</code> — applies sorting
                            </li>
                            <li>
                                <code>slice</code> — apply
                                <code>limit</code> and
                                <code>offset</code>
                            </li>
                            <li>
                                <code>raw</code> — set
                                <code>proto/tm</code> field to the
                                raw contents of the packet
                            </li>
                        </ul>
                        <p>
                        <ul></ul>
                    </div>
                </div>
            </div>
            <div class="sidebar">
                <h5 id="top" style=
                "padding-left:13px;padding-top:1rem;padding-bottom:2rem;">
                <a href="../..">Tinymesh Cloud Docs</a>
                </h5>
                <ul class="nav">
                    <li class="section collapse">
                        <a href="../../guides/index.html">Guides
                        &amp; Examples</a>
                        <ul class="nav">
                            <li class="header">
                                <a href=
                                "../../guides/getting-started/index.html">
                                Quick Start</a>
                                <ul class="nav">
                                    <li class="">
                                        <a href=
                                        "../../guides/getting-started/intro.html">
                                        Introduction</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../../guides/getting-started/initial-configuration.html">
                                        Initial Configuration</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../../guides/getting-started/connecting.html">
                                        Connecting your Gateway</a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li class="section collapse ancestor">
                        <a href="../index.html">HTTP API - v2</a>
                        <ul class="nav">
                            <li class="header">
                                <a href=
                                "../auth/index.html">Authentication</a>
                                <ul class="nav">
                                    <li class="">
                                        <a href=
                                        "../auth/GET-auth.html">GET
                                        /auth</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../auth/GET-auth-token.html">
                                        GET /auth/token</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../auth/POST-auth-token.html">
                                        POST /auth/token</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../auth/POST-auth-token-revoke-@fingerprint.html">
                                        POST
                                        /auth/token/revoke/:fingerprint</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../auth/GET-auth-session.html">
                                        GET
                                        /auth/session<span class=
                                        "text-right label label-warning"
                                        style=
                                        "float:right;">unstable</span></a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../auth/POST-auth-session.html">
                                        POST
                                        /auth/session<span class=
                                        "text-right label label-warning"
                                        style=
                                        "float:right;">unstable</span></a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../auth/DELETE-auth-session.html">
                                        DELETE
                                        /auth/session<span class=
                                        "text-right label label-warning"
                                        style=
                                        "float:right;">unstable</span></a>
                                    </li>
                                </ul>
                            </li>
                            <li class="header">
                                <a href=
                                "../channel/index.html">Channels
                                (beta)<span class=
                                "text-right label label-info"
                                style="float:right;">beta</span></a>
                                <ul class="nav">
                                    <li class="">
                                        <a href=
                                        "../channel/GET-_channels-chan-@network.html">
                                        GET
                                        /_channels/chan/:network<span class="text-right label label-info"
                                        style=
                                        "float:right;">beta</span></a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../channel/POST-_channels-chan-@network.html">
                                        POST
                                        /_channels/chan/:network<span class="text-right label label-info"
                                        style=
                                        "float:right;">beta</span></a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../channel/GET-_channels-chan-@network-@chan.html">
                                        GET
                                        /_channels/chan/:network/:chan<span class="text-right label label-info"
                                        style=
                                        "float:right;">beta</span></a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../channel/PUT-_channels-chan-@network-@chan.html">
                                        PUT
                                        /_channels/chan/:network/:chan<span class="text-right label label-info"
                                        style=
                                        "float:right;">beta</span></a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../channel/GET-_channels-io-@network-@chan.html">
                                        GET
                                        /_channels/io/:network/:chan<span class="text-right label label-info"
                                        style=
                                        "float:right;">beta</span></a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../channel/POST-_channels-io-@network-@chan.html">
                                        POST
                                        /_channels/io/:network/:chan<span class="text-right label label-info"
                                        style=
                                        "float:right;">beta</span></a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../channel/GET-_channels-tokens-@network-@chan.html">
                                        GET
                                        /_channels/tokens/:network/:chan<span class="text-right label label-info"
                                        style=
                                        "float:right;">beta</span></a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../channel/POST-_channels-tokens-@network-@chan.html">
                                        POST
                                        /_channels/tokens/:network/:chan<span class="text-right label label-info"
                                        style=
                                        "float:right;">beta</span></a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../channel/DELETE-_channels-tokens-@network-@chan-@token.html">
                                        DELETE
                                        /_channels/tokens/:network/:chan/:token<span class="text-right label label-info"
                                        style=
                                        "float:right;">beta</span></a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../channel/GET-_channels-tokens-@network-@chan-@token.html">
                                        GET
                                        /_channels/tokens/:network/:chan/:token<span class="text-right label label-info"
                                        style=
                                        "float:right;">beta</span></a>
                                    </li>
                                </ul>
                            </li>
                            <li class="header">
                                <a href=
                                "../device/index.html">Device
                                Management</a>
                                <ul class="nav">
                                    <li class="">
                                        <a href=
                                        "../device/GET-device.html">
                                        GET /device</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../device/GET-device-@network.html">
                                        GET /device/:network</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../device/POST-device-@network.html">
                                        POST /device/:network</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../device/GET-device-@network-@device.html">
                                        GET
                                        /device/:network/:device</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../device/PUT-device-@network-@device.html">
                                        PUT
                                        /device/:network/:device</a>
                                    </li>
                                </ul>
                            </li>
                            <li class="header">
                                <a href=
                                "../message/index.html">Device
                                Communication</a>
                                <ul class="nav">
                                    <li class="">
                                        <a href=
                                        "../message/GET-message-@msg.html">
                                        GET /message/:msg</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../message/POST-message-@network-@device.html">
                                        POST
                                        /message/:network[/:device]</a>
                                    </li>
                                </ul>
                            </li>
                            <li class="header">
                                <a href=
                                "../network/index.html">Network
                                Management</a>
                                <ul class="nav">
                                    <li class="">
                                        <a href=
                                        "../network/GET-network.html">
                                        GET /network</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../network/POST-network.html">
                                        POST /network</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../network/GET-network-@network.html">
                                        GET /network/:network</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../network/PUT-network-@network.html">
                                        PUT /network/:network</a>
                                    </li>
                                </ul>
                            </li>
                            <li class="header">
                                <a href=
                                "../organization/index.html">Organizations</a>
                                <ul class="nav">
                                    <li class="">
                                        <a href=
                                        "../organization/GET-organization.html">
                                        GET /organization</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../organization/GET-organization-@org.html">
                                        GET /organization/:org</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../organization/PUT-organization-@org.html">
                                        PUT /organization/:org</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../organization/POST-organization-@org.html">
                                        POST /organization/:org</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../organization/DELETE-organization-@org-user-@user.html">
                                        DELETE
                                        /organization/:org/user/:user<span class="text-right label label-info"
                                        style=
                                        "float:right;">beta</span></a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../organization/PUT-organization-@org-user-@user.html">
                                        PUT
                                        /organization/:org/user/:user<span class="text-right label label-info"
                                        style=
                                        "float:right;">beta</span></a>
                                    </li>
                                </ul>
                            </li>
                            <li class="header parent">
                                <a href="index.html">Data Queries
                                &amp; Message streaming</a>
                                <ul class="nav">
                                    <li class="active">
                                        <a href=
                                        "GET-messages-@netsel-@devsel.html">
                                        GET
                                        /messages/:netsel[/:devsel]</a>
                                    </li>
                                </ul>
                            </li>
                            <li class="header">
                                <a href="../user/index.html">User
                                Endpoints</a>
                                <ul class="nav">
                                    <li class="">
                                        <a href=
                                        "../user/GET-user.html">GET
                                        /user</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../user/PUT-user.html">PUT
                                        /user</a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li class="section collapse">
                        <a href="../../tcp-api/index.html">TCP API
                        - v1</a>
                        <ul class="nav">
                            <li class="header">
                                <a href=
                                "../../tcp-api/authentication.html">
                                Authentication</a>
                                <ul class="nav"></ul>
                            </li>
                            <li class="header">
                                <a href=
                                "../../tcp-api/linklevel.html">Protocol</a>
                                <ul class="nav"></ul>
                            </li>
                            <li class="header">
                                <a href=
                                "../../tcp-api/debugging.html">Debugging</a>
                                <ul class="nav"></ul>
                            </li>
                            <li class="header">
                                <a href=
                                "../../tcp-api/security.html">Security
                                Considerations</a>
                                <ul class="nav"></ul>
                            </li>
                        </ul>
                    </li>
                    <li class="section collapse">
                        <a href=
                        "../../reference-guide/index.html">Reference
                        Manual</a>
                        <ul class="nav">
                            <li class="header">
                                <a href=
                                "../../reference-guide/device-configuration/index.html">
                                Device Configuration</a>
                                <ul class="nav">
                                    <li class="">
                                        <a href=
                                        "../../reference-guide/device-configuration/latest.html">
                                        Latest (1.48)</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../../reference-guide/device-configuration/1.43.html">
                                        1.43</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../../reference-guide/device-configuration/1.40.html">
                                        1.40</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../../reference-guide/device-configuration/1.38.html">
                                        1.38</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../../reference-guide/device-configuration/1.37.html">
                                        1.37</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../../reference-guide/device-configuration/1.36.html">
                                        1.36</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../../reference-guide/device-configuration/1.34.html">
                                        1.34</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../../reference-guide/device-configuration/1.31.html">
                                        1.31</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../../reference-guide/device-configuration/1.21.html">
                                        1.21</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../../reference-guide/device-configuration/1.20.html">
                                        1.20</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../../reference-guide/device-configuration/1.00.html">
                                        1.00</a>
                                    </li>
                                </ul>
                            </li>
                            <li class="header">
                                <a href=
                                "../../reference-guide/network-connector/index.html">
                                Network Connectors</a>
                                <ul class="nav">
                                    <li class="">
                                        <a href=
                                        "../../reference-guide/network-connector/guri.html">
                                        GURI (CLI)</a>
                                    </li>
                                </ul>
                            </li>
                            <li class="header">
                                <a href=
                                "../../reference-guide/resources/index.html">
                                Resources Definitions</a>
                                <ul class="nav">
                                    <li class="">
                                        <a href=
                                        "../../reference-guide/resources/error.html">
                                        Errors</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../../reference-guide/resources/organization.html">
                                        Organization</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../../reference-guide/resources/messages/index.html">
                                        Messages</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../../reference-guide/resources/network.html">
                                        Network</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../../reference-guide/resources/device.html">
                                        Device</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../../reference-guide/resources/channel.html">
                                        Channel</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../../reference-guide/resources/token.html">
                                        Token</a>
                                    </li>
                                    <li class="">
                                        <a href=
                                        "../../reference-guide/resources/user.html">
                                        User</a>
                                    </li>
                                </ul>
                            </li>
                            <li class="header">
                                <a href=
                                "../../reference-guide/knowledge/index.html">
                                Knowledge Library</a>
                                <ul class="nav">
                                    <li class="">
                                        <a href=
                                        "../../reference-guide/knowledge/manual-gw-configuration.html">
                                        Manually Configuring
                                        Tinymesh Gateways</a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
                <hr style="padding:5px 0;">
                <a class="back-to-top" href="#top">Back to top</a>
            </div>
        </div><script type="text/javascript" src="../../js/app.js">
</script>
    </body>
</html>
